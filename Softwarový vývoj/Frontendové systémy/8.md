# 8. Vstupní body aplikace

## Definice vstupních bodů

**Vstupní body aplikace - základní koncepty**

**Definice:** Vstupní bod je místo v aplikaci, kde začíná vykonávání kódu a inicializace systému

**Klíčové charakteristiky:**

* **Main funkce** - klasický vstupní bod v C/C++, Java, C#
* **HTTP endpointy** - vstupní body pro webové aplikace
* **Event handlery** - vstupní body pro událostmi řízené aplikace
* **CLI argumenty** - vstupní body pro konzolové aplikace

**Příklady technologií:**

* **Java:** public static void main(String[] args)
* **Node.js:** app.listen(), Express routes
* **Spring Boot:** @SpringBootApplication, @RestController

## Typy vstupních bodů

**Typy vstupních bodů podle architektury**

**Podle způsobu spuštění:**

1. **Programové** - main() funkce, bootstrap kód
2. **Síťové** - HTTP/REST API, GraphQL endpoints
3. **Událostní** - message queues, webhooks, timery
4. **Uživatelské** - GUI aplikace, CLI rozhraní

**Podle životního cyklu:**

* **Synchronní** - blokující volání, request-response
* **Asynchronní** - non-blocking, callback/promise based
* **Reaktivní** - stream processing, event-driven

**Praktické implementace:**

* **Microservices:** každý service má své API endpoints
* **Serverless:** AWS Lambda functions, Azure Functions

## Separace podle domén

**Rozdělení aplikace podle business domén**

**Domain-driven separace:**

* **User Management** - /api/users, /auth endpoints
* **Order Processing** - /api/orders, /payments endpoints
* **Product Catalog** - /api/products, /inventory endpoints
* **Notification System** - /api/notifications, webhook endpoints

**Výhody separace:**

* **Nezávislost** - každá doména může být vyvíjena samostatně
* **Škálovatelnost** - rozdílné požadavky na výkon
* **Bezpečnost** - izolace citlivých operací
* **Testovatelnost** - jednodušší unit a integration testy

**Implementační vzory:**

* **Modular Monolith** - oddělené moduly v jedné aplikaci
* **Microservices** - samostatné služby s vlastními endpointy

## Sdílení common funkčností

**Sdílení společných funkcí mezi vstupními body**

**Společné komponenty:**

* **Authentication & Authorization** - JWT middleware, RBAC
* **Logging & Monitoring** - strukturované logy, metriky
* **Error Handling** - centralizované exception handling
* **Validation** - input validation, data sanitization
* **Database Access** - connection pooling, ORM/ODM

**Implementační strategie:**

* **Shared Libraries** - společné NPM/Maven/NuGet balíčky
* **Middleware Pattern** - Express.js, ASP.NET Core middleware
* **Dependency Injection** - Spring IoC, .NET DI container
* **Service Layer** - business logic jako služby

**Nástroje:** Spring Boot starters, Express middleware, ASP.NET filters

## Middleware a interceptory

**Middleware pattern pro sdílení funkčností**

**Middleware koncept:**

* **Pipeline processing** - řetězení funkcí před/po zpracování
* **Cross-cutting concerns** - autentizace, logování, validace
* **Request/Response transformation** - parsing, serialization
* **Error boundary** - centralizované error handling

**Implementace v technologiích:**

* **Express.js:** app.use(), custom middleware functions
* **ASP.NET Core:** IMiddleware, UseMiddleware()
* **Spring Boot:** @Component, HandlerInterceptor
* **Django:** MIDDLEWARE setting, process\_request/response

**Příklady middleware:**

* **CORS handling** - cross-origin resource sharing
* **Rate limiting** - API throttling
* **Request logging** - audit trail

## API Gateway pattern

**API Gateway jako jednotný vstupní bod**

**API Gateway role:**

* **Single entry point** - jeden vstupní bod pro všechny klienty
* **Request routing** - směrování na příslušné mikroslužby
* **Protocol translation** - HTTP to gRPC, REST to GraphQL
* **Load balancing** - distribuce zátěže mezi instancemi

**Společné funkce v gateway:**

* **Authentication** - JWT token validation
* **Rate limiting** - API throttling a quotas
* **Request/Response transformation** - data mapping
* **Monitoring** - metriky, health checks
* **Caching** - response caching pro performance

**Technologie:**

* **Kong, Zuul, Ambassador** - enterprise řešení
* **AWS API Gateway, Azure APIM** - cloud managed
* **NGINX, Traefik** - open-source reverse proxy

## Deployment a orchestrace

**Nasazení a správa vícenásobných vstupních bodů**

**Deployment strategie:**

* **Blue-Green Deployment** - nulový downtime při aktualizacích
* **Canary Releases** - postupné zavádění nových verzí
* **Rolling Updates** - postupná výměna instancí
* **Feature Toggles** - podmíněné zapínání funkcí

**Container orchestrace:**

* **Kubernetes:** Services, Ingress, Load Balancers
* **Docker Swarm:** Services, Networks, Secrets
* **Service Mesh:** Istio, Linkerd pro inter-service komunikaci

**Monitoring vstupních bodů:**

* **Health checks** - /health, /ready endpoints
* **Circuit breakers** - Netflix Hystrix, Resilience4j
* **Distributed tracing** - Jaeger, Zipkin
* **Metrics collection** - Prometheus, Grafana

## Security a best practices

**Bezpečnost a osvědčené postupy pro vstupní body**

**Security considerations:**

* **Input validation** - sanitizace všech vstupů
* **Authentication** - OAuth 2.0, JWT, API keys
* **Authorization** - RBAC, ABAC, resource-based
* **HTTPS enforcement** - TLS 1.3, certificate management
* **CORS policy** - controlled cross-origin access

**Performance best practices:**

* **Connection pooling** - databáze, HTTP connections
* **Caching strategies** - Redis, Memcached, CDN
* **Async processing** - event queues, background jobs
* **Resource limits** - CPU, memory, connection limits

**Monitoring a alerting:**

* **SLA monitoring** - uptime, response time
* **Error rate tracking** - 4xx/5xx HTTP codes
* **Capacity planning** - load testing, stress testing
