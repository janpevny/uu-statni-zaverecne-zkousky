# 2. JavaScript

## Frontend vs Backend charakteristiky

**JavaScript - Frontend vs Backend**

JavaScript může běžet jak v **prohlížeči** (frontend) tak na **serveru** (backend - Node.js).

* **Frontend JS** - běží v prohlížeči, DOM manipulace
* **Backend JS** - běží na serveru (Node.js, Deno, Bun)
* **Různé runtime prostředí** - různá API a možnosti
* **Společný jazyk** - stejná syntaxe, různé knihovny

**Klíčové rozdíly:**

* Přístup k souborovému systému (pouze backend)
* DOM API (pouze frontend)
* Síťová omezení (CORS ve frontendu)
* Bezpečnostní kontext

## DOM a Browser APIs

**DOM a Browser APIs**

**Frontend JavaScript** má přístup k specifickým prohlížečovým API nedostupným na backendu.

* **DOM (Document Object Model)** - manipulace s HTML elementy
* **BOM (Browser Object Model)** - window, location, navigator
* **Event Handling** - reakce na uživatelské akce
* **Web APIs** - fetch, localStorage, geolocation

**Moderne Web APIs:**

* **Fetch API** - HTTP požadavky
* **Web Storage** - localStorage, sessionStorage
* **Service Workers** - background scripting
* **WebRTC** - real-time komunikace

**Backend nemá:** DOM, window object, browser-specific APIs

## Bezpečnostní omezení frontendu

**Bezpečnostní omezení frontend JavaScriptu**

Frontend JavaScript běží v **sandboxu prohlížeče** s bezpečnostními omezeními.

* **Same-Origin Policy** - omezení cross-origin requests
* **CORS (Cross-Origin Resource Sharing)** - kontrola přístupu
* **Content Security Policy** - ochrana proti XSS
* **Žádný přístup k souborům** - file system omezení

**Backend JavaScript může:**

* Přistupovat k souborovému systému
* Spouštět systémové příkazy
* Připojovat se k databázím
* Nemá CORS omezení

**Důvod:** Ochrana uživatele před škodlivým kódem

## Co je transpilace

**Transpilace v JavaScriptu**

**Transpilace** je proces převodu kódu z jedné verze JavaScriptu do druhé (obvykle starší).

* **Source-to-source compilation** - JS → JS transformace
* **Zpětná kompatibilita** - nové features pro staré prohlížeče
* **Polyfilly** - implementace chybějících funkcí
* **Optimalizace** - minifikace, tree-shaking

**Proč transpilace:**

* **Moderní syntax** - ES6+, TypeScript
* **Browser podpora** - starší prohlížeče
* **Vývojářská produktivita** - nejnovější features

**Výsledek:** Moderní kód → kompatibilní kód pro všechny prohlížeče

## Babel transpiler

**Babel - JavaScript transpiler**

**Babel** je nejpopulárnější nástroj pro transpilaci moderního JavaScriptu.

* **ES6+ → ES5** - převod nové syntaxe
* **Plugin systém** - modulární transformace
* **Presets** - sady pluginů (@babel/preset-env)
* **Polyfill integrace** - core-js, regenerator-runtime

**Klíčové features:**

* **Smart transpilation** - pouze co je potřeba
* **Browserslist integrace** - cílení na konkrétní prohlížeče
* **Source maps** - debugging support

**Konfigurace:** .babelrc, babel.config.js, package.json

## Bundlers a build tools

**Bundlers a build nástroje**

**Moderní build nástroje** kombinují transpilaci s dalšími optimalizacemi.

* **Webpack** - modulový bundler s bohatým ekosystémem
* **Vite** - rychlý build tool, ESM nativní
* **Rollup** - optimalizovaný pro knihovny
* **esbuild** - extrémně rychlý Go-based bundler

**Funkcionality:**

* **Module bundling** - spojování souborů
* **Code splitting** - dynamické importy
* **Asset optimization** - obrázky, CSS
* **Development server** - hot reload

**Integrace:** Automatická transpilace, TypeScript podpora

## TypeScript transpilation

**TypeScript transpilation**

**TypeScript** je nadmnožina JavaScriptu s typovou kontrolou, transpiluje se do čistého JS.

* **Statické typování** - compile-time kontrola
* **Modern JS features** - ES6+, decorators
* **Incremental compilation** - rychlé buildy
* **Multiple targets** - ES5, ES6, ESNext

**TypeScript Compiler (tsc):**

* **tsconfig.json** - konfigurace projektu
* **Target specification** - výstupní JS verze
* **Module systems** - CommonJS, ESM, AMD

**Integrace:** Babel, Webpack, Vite mají nativní TS support

## Moderní JS features a kompatibilita

**Moderní JavaScript features**

Transpilace umožňuje používat **nejnovější JavaScript features** i pro starší prohlížeče.

* **ES2015+ syntax** - arrow functions, classes, modules
* **ES2017+** - async/await, object spread
* **ES2020+** - optional chaining, nullish coalescing
* **ES2022+** - top-level await, private fields

**Kompatibilita nástroje:**

* **Can I Use** - browser support lookup
* **Browserslist** - definice target browsers
* **@babel/preset-env** - smart polyfills

**Strategie:** Progressive enhancement, graceful degradation
