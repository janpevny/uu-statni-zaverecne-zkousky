# 6. Nasazení aplikace

## Základní principy nasazení

**Základní principy nasazení aplikace**

**Klíčové principy:**

* **Automatizace** - minimalizace manuálních kroků
* **Reprodukovatelnost** - stejný výsledek v různých prostředích
* **Rychlé rollback** - možnost rychlého návratu k předchozí verzi
* **Zero downtime deployment** - nasazení bez výpadku

**Deployment strategie:**

* **Blue-Green deployment** - dva identické prostředí
* **Rolling deployment** - postupná výměna instancí
* **Canary deployment** - postupné nasazení na část uživatelů

**Výhody:**

* Snížení rizika chyb
* Rychlejší time-to-market
* Lepší spolehlivost
* Konzistentní prostředí

**Nevýhody:**

* Počáteční složitost nastavení
* Potřeba CI/CD pipeline
* Náklady na infrastrukturu
* Komplexnost koordinace

## Proces nasazení aplikace

**Proces nasazení aplikace**

**Fáze deployment procesu:**

1. **Build** - kompilace, bundling, optimalizace
2. **Test** - unit, integration, end-to-end testy
3. **Package** - vytvoření deployment artefaktů
4. **Deploy** - nasazení do cílového prostředí
5. **Verify** - smoke testy a health checks

**CI/CD pipeline:**

* **Continuous Integration** - automatické build a test
* **Continuous Deployment** - automatické nasazení
* **Version control triggering** - spuštění na commit/merge

**Nástroje:**

* Jenkins, GitLab CI, GitHub Actions
* Docker pro kontejnerizaci
* Ansible, Terraform pro infrastructure as code

**Výhody:**

* Automatizovaný workflow
* Rychlé zpětná vazba
* Konzistentní kvalita

**Nevýhody:**

* Komplexní konfigurace
* Závislost na nástrojích
* Možné bottle necks v pipeline

## Produkční vs vývojové prostředí

**Produkční vs vývojové prostředí**

**Vývojové prostředí (Development):**

* **Účel** - vývoj a testování funkcí
* **Data** - testovací, anonymizovaná data
* **Performance** - nižší priority
* **Monitoring** - základní logování
* **Security** - relaxovanější pravidla

**Produkční prostředí (Production):**

* **Účel** - live aplikace pro koncové uživatele
* **Data** - reálná data s vysokou ochranou
* **Performance** - optimalizováno pro rychlost
* **Monitoring** - 24/7 monitoring a alerting
* **Security** - maximální bezpečnostní opatření

**Další prostředí:**

* **Staging** - kopie produkce pro finální testování
* **Testing/QA** - automatizované testování
* **Integration** - testování integrace komponent

**Parity principy:**

* Stejné technologie napříč prostředími
* Automatizovaná konfigurace
* Minimalizace rozdílů mezi prostředími

## PaaS platformy

**Platform as a Service (PaaS) platformy**

**Nejběžnější PaaS platformy:**

* **Heroku** - jednoduchý deployment, Git-based
* **AWS Elastic Beanstalk** - managed service od AWS
* **Google App Engine** - serverless PaaS od Google
* **Microsoft Azure App Service** - PaaS pro .NET a další
* **Vercel** - optimalizováno pro frontend a JAMstack

**Výhody PaaS:**

* Rychlé nasazení (git push deploy)
* Automatické škálování
* Managed infrastructure
* Vestavěné monitoring a logging
* Add-on ekosystém (databáze, cache)

**Nevýhody PaaS:**

* Vendor lock-in
* Omezená konfigurace
* Potenciálně vyšší náklady
* Dependence na platformě

**Typický PaaS workflow:**

git add . → git commit → git push heroku main → automatické nasazení

## Nástroje pro podporu nasazení

**Nástroje pro podporu nasazení**

**CI/CD nástroje:**

* **Jenkins** - open-source automation server
* **GitLab CI** - integrované s GitLab
* **GitHub Actions** - native GitHub CI/CD
* **Azure DevOps** - Microsoft DevOps suite

**Kontejnerizace:**

* **Docker** - kontejnerizace aplikací
* **Kubernetes** - orchestrace kontejnerů
* **Docker Compose** - multi-container aplikace

**Infrastructure as Code:**

* **Terraform** - multi-cloud provisioning
* **Ansible** - configuration management
* **CloudFormation** - AWS native IaC

**Monitoring a Logging:**

* **Prometheus + Grafana** - metrics a dashboards
* **ELK Stack** - Elasticsearch, Logstash, Kibana
* **New Relic, Datadog** - APM nástroje

**Package management:**

* Docker Registry, npm, Maven, NuGet

## Deployment strategie

**Deployment strategie**

**Blue-Green Deployment:**

* Dva identické prostředí (Blue a Green)
* Nasazení do neaktivního prostředí
* Okamžité přepnutí provozu
* Rychlý rollback přepnutím zpět

**Rolling Deployment:**

* Postupná výměna instancí aplikace
* Část kapacity stále dostupná
* Nižší nároky na infrastrukturu
* Pomalejší rollback

**Canary Deployment:**

* Nasazení na malou část uživatelů
* Postupné zvyšování procentuálního rozdělení
* A/B testing možnosti
* Rychlé zastavení při problémech

**Recreate Deployment:**

* Zastavení všech instancí a nasazení nových
* Krátký downtime
* Jednoduché na implementaci
* Vhodné pro dev prostředí

**Výběr strategie závisí na:**

* Tolerance downtime
* Dostupné zdroje
* Kritičnost aplikace
* Komplexnost rollback

## DevOps a automatizace

**DevOps a automatizace nasazení**

**DevOps principy:**

* **Collaboration** - spolupráce Dev a Ops týmů
* **Automation** - automatizace repetitivních úkolů
* **Continuous Integration/Deployment**
* **Infrastructure as Code** - verzování infrastruktury

**Automatizace benefits:**

* Snížení human error
* Rychlejší deployment
* Konzistentní prostředí
* Lepší auditovatelnost
* Škálovatelnost procesů

**GitOps workflow:**

* Git jako single source of truth
* Declarative configuration
* Automated synchronization
* Pull-based deployment

**Monitoring a observability:**

* **Metrics** - výkonnostní data
* **Logs** - application a system logy
* **Traces** - distributed tracing
* **Alerts** - proaktivní upozornění

**Security v DevOps (DevSecOps):**

* Security scanning v CI/CD
* Vulnerability management
* Secret management
* Compliance automation

## Containerizace a orchestrace

**Containerizace a orchestrace**

**Docker kontejnery:**

* **Isolation** - izolované runtime prostředí
* **Portability** - běží všude stejně
* **Lightweight** - sdílejí OS kernel
* **Dockerfile** - deklarativní definice prostředí

**Container orchestrace:**

* **Kubernetes** - de facto standard
* **Docker Swarm** - jednodušší alternativa
* **Amazon ECS** - AWS managed orchestration
* **Azure Container Instances** - serverless containers

**Kubernetes výhody:**

* Auto-scaling pods
* Service discovery
* Load balancing
* Rolling updates
* Self-healing (restart failed containers)

**Deployment na Kubernetes:**

* **Pods** - základní deployment unit
* **Services** - networking a load balancing
* **Ingress** - external access
* **ConfigMaps/Secrets** - konfigurace

**Nevýhody:**

* Komplexní learning curve
* Resource overhead
* Networking complexity
* Troubleshooting difficulty
