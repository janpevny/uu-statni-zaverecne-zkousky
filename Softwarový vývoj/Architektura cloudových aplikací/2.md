# 2. Komunikace aplikací

## Základy REST

**REST (Representational State Transfer)**

**Definice:**

Architektonický styl pro návrh webových služeb založený na HTTP protokolu a bezstavové komunikaci

**Základní principy REST:**

1. **Stateless** - každý požadavek obsahuje vše potřebné
2. **Client-Server** - oddělení klienta a serveru
3. **Cacheable** - odpovědi mohou být cachovány
4. **Uniform Interface** - jednotné rozhraní
5. **Layered System** - vrstvená architektura
6. **Code on Demand** (volitelný) - server může poslat kód

**HTTP metody:**

* **GET** - získání dat (idempotentní)
* **POST** - vytvoření nového zdroje
* **PUT** - aktualizace/vytvoření zdroje (idempotentní)
* **DELETE** - smazání zdroje (idempotentní)
* **PATCH** - částečná aktualizace

**Výhody:**

* Jednoduchost a srozumitelnost
* Škálovatelnost
* Cachování
* Nezávislost na platformě

**Nevýhody:**

* Stateless může být neefektivní
* Omezené na HTTP protokol
* Overfetching/underfetching dat
* Složitější pro komplexní operace

## JSON

**JSON (JavaScript Object Notation)**

**Definice:**

Lehký, textový formát pro výměnu dat, založený na JavaScript syntaxi, ale nezávislý na jazyce

**Struktura:**

* **Objekty** - {} s key-value páry
* **Pole** - [] s hodnotami
* **Hodnoty** - string, number, boolean, null, object, array

**Příklad:**

`{  
  "name": "Jan Novák",  
  "age": 25,  
  "skills": ["Java", "Python"],  
  "active": true  
}`

**Výhody:**

* Lehký a kompaktní
* Snadné parsování
* Široká podpora v programovacích jazycích
* Čitelný pro člověka
* Nativní podpora v JavaScriptu

**Nevýhody:**

* Omezené datové typy
* Žádné komentáře
* Žádná validace schématu (bez dodatečných nástrojů)
* Bezpečnostní rizika při eval()
* Větší než binární formáty

**Použití:** REST API, konfigurace, NoSQL databáze

## XML

**XML (eXtensible Markup Language)**

**Definice:**

Markup jazyk pro strukturování a ukládání dat s vlastními definovanými tagy

**Struktura:**

* **Elementy** - <tag>obsah</tag>
* **Atributy** - <tag attribute="value">
* **Namespaces** - předcházení konfliktům tagů
* **Hierarchická struktura** - vnořené elementy

**Příklad:**

`<person>  
  <name>Jan Novák</name>  
  <age>25</age>  
  <skills>  
    <skill>Java</skill>  
    <skill>Python</skill>  
  </skills>  
</person>`

**Výhody:**

* Self-describing struktura
* Schema validace (XSD, DTD)
* Podpora namespaces
* Množství nástrojů a standardů
* Flexibilní struktura

**Nevýhody:**

* Verbose - více textu než dat
* Pomalejší parsování
* Větší velikost souborů
* Složitější syntaxe
* Méně lidsky čitelný

**Použití:** SOAP webové služby, konfigurace, dokumenty

## CSV

"

**CSV (Comma-Separated Values)**

**Definice:**

Jednoduchý textový formát pro ukládání tabulkových dat, kde jsou hodnoty odděleny čárkami

**Struktura:**

* **Řádky** - jednotlivé záznamy
* **Sloupce** - oddělené čárkami (nebo jiným oddělovačem)
* **Header** - první řádek s názvy sloupců
* **Escape znaky** - uvozovky pro hodnoty s čárkami

**Příklad:**

`name,age,city  
Jan Novák,25,Praha  
Marie Svobodová,30,Brno  
"Petr Dvořák, Jr.",28,"Ostrava, Moravskoslezský"`

**Výhody:**

* Extrémně jednoduchý formát
* Malá velikost souborů
* Široká podpora (Excel, databáze)
* Snadné parsování
* Lidsky čitelný

**Nevýhody:**

* Pouze tabulková data
* Žádné datové typy
* Problémy s oddělovači v datech
* Žádná hierarchická struktura
* Žádná standardizace (různé dialekty)
* Problematické encoding

**Použití:** Export/import dat, analýza dat, reporty

## Porovnání formátů

**Porovnání datových formátů**

**JSON vs XML:**

* **JSON**: kompaktnější, rychlejší parsing, nativní JavaScript podpora
* **XML**: validace schématem, XSLT transformace, podpora atributů a namespaces

**Kdy použít který formát:**

* **JSON**: moderní REST API, webové aplikace, mobilní aplikace, NoSQL databáze
* **XML**: SOAP služby, konfigurace, dokumenty s komplexní strukturou, systémy vyžadující validaci
* **CSV**: jednoduché tabulkové exporty, datová analýza, migrace dat mezi systémy

**Výkonnostní aspekty:**

* **Velikost**: CSV < JSON < XML (typicky)
* **Rychlost parsování**: CSV nejrychlejší pro tabulková data, JSON rychlejší než XML
* **Paměťová náročnost**: závisí na implementaci parseru a struktuře dat

**Výhody porovnání:**

* Pomáhá vybrat správný formát pro konkrétní použití
* Optimalizace výkonu aplikace
* Lepší kompatibilita se systémy

**Nevýhody:**

* Potřeba znalosti více formátů
* Složitější rozhodování
* Možné nekonzistence mezi formáty

## Praktické aspekty komunikace

**Praktické aspekty komunikace aplikací**

**Serializace a deserializace:**

* Převod objektů na přenositelný formát a zpět
* **Knihovny**: Jackson (Java), Newtonsoft.Json (.NET), json (Python)
* Mapování mezi objekty a datovými formáty

**Zabezpečení:**

* **Validace vstupů** proti injection útokům
* **HTTPS** pro šifrovaný přenos
* **Autentizace a autorizace** (OAuth, JWT tokeny)
* Omezení velikosti požadavků

**Best practices:**

* Konzistentní pojmenování (camelCase vs snake\_case)
* Verzování API pro zpětnou kompatibilitu
* Proper error handling s informativními chybovými zprávami
* Dokumentace API (OpenAPI/Swagger)
* Implementace CORS pro webové aplikace

**Výhody:**

* Bezpečná a efektivní komunikace
* Lepší maintainability kódu
* Standardizované postupy

**Nevýhody:**

* Zvýšená komplexita implementace
* Potřeba více znalostí a nástrojů
* Vyšší nároky na testování
