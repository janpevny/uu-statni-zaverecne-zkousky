# 1. Základní koncepty architektury back

## endových systémů - Aplikační server

**Aplikační server (Application Server)**

**Definice:**

Middleware komponenta poskytující runtime prostředí pro spouštění podnikových aplikací a webových služeb

**Hlavní funkce:**

* **Zpracování HTTP požadavků** - příjem a odpověď na klientské požadavky
* **Řízení spojení** - connection pooling, session management
* **Bezpečnost** - autentifikace, autorizace, SSL/TLS
* **Transaction management** - ACID transakce, rollback
* **Resource pooling** - databázová spojení, thread pooling

**Výhody:**

* Centralizované řízení aplikací
* Škálovatelnost a load balancing
* Správa zdrojů a bezpečnosti
* Monitoring a logging

**Nevýhody:**

* Komplexní konfigurace
* Vendor lock-in
* Overhead pro malé aplikace
* Single point of failure

**Příklady:** Apache Tomcat, JBoss/WildFly, WebSphere, IIS, Nginx

## endových systémů - REST API služby

**REST API služby**

**Definice:**

Architektonický styl pro návrh webových služeb založený na HTTP protokolu a principech REST (Representational State Transfer)

**REST principy:**

* **Stateless** - každý požadavek obsahuje všechny potřebné informace
* **Uniform Interface** - standardní HTTP metody (GET, POST, PUT, DELETE)
* **Client-Server** - oddělení klienta od serveru
* **Cacheable** - odpovědi mohou být cache-ovány
* **Layered System** - vrstvená architektura

**HTTP metody:**

* **GET** - načtení dat (read)
* **POST** - vytvoření nového zdroje (create)
* **PUT** - úplná aktualizace (update)
* **PATCH** - částečná aktualizace
* **DELETE** - smazání zdroje

**Výhody:**

* Jednoduchost a čitelnost
* Platform independent
* Škálovatelnost
* Cache-ability

**Nevýhody:**

* Over-fetching/Under-fetching dat
* Více HTTP požadavků pro komplexní operace
* Omezené možnosti dotazování

## endových systémů - Objektově-relační mapování (ORM)

**Objektově-relační mapování (ORM)**

**Definice:**

Programovací technika pro konverzi dat mezi nekompatibilními typy systémů - objektové programování a relační databáze

**Základní koncepty:**

* **Entity** - objektová reprezentace databázové tabulky
* **Repository/DAO** - vzor pro přístup k datům
* **Connection pooling** - opětovné využití databázových spojení
* **Lazy/Eager loading** - strategie načítání souvisejících dat
* **Caching** - ukládání často používaných dat do paměti

**Výhody:**

* Abstrakce od SQL
* Rychlejší vývoj
* Automatické mapování
* Database agnostic
* Bezpečnost (SQL injection protection)

**Nevýhody:**

* Performance overhead
* Složitost při komplexních dotazech
* Learning curve
* N+1 problem
* Méně kontroly nad SQL

**Příklady:** Hibernate (Java), Entity Framework (.NET), Django ORM (Python), Sequelize (Node.js)

## endových systémů - Repository a DAO pattern

**Repository a DAO (Data Access Object) pattern**

**DAO Pattern:**

* Abstraktní rozhraní pro přístup k datům
* Enkapsuluje logiku přístupu k databázi
* Odděluje business logiku od persistence logiky
* Jeden DAO obvykle pro jednu entitu

**Repository Pattern:**

* Agreguje více DAO objektů
* Poskytuje jednotný interface pro kolekce objektů
* Více business-oriented než DAO
* Může obsahovat komplexní dotazy napříč entitami

**Implementace:**

* **Interface** - definuje dostupné operace
* **Concrete implementation** - implementuje databázové operace
* **CRUD operations** - Create, Read, Update, Delete
* **Custom queries** - specifické business dotazy

**Výhody:**

* Testovatelnost (mock objects)
* Loosely coupled architecture
* Znovupoužitelnost
* Centralizace data access logiky

**Nevýhody:**

* Další vrstva abstrakce
* Complexity overhead pro jednoduché aplikace
* Možná duplicita kódu

## endových systémů - HTTP Routing

**HTTP Routing**

**Definice:**

Mechanismus pro mapování HTTP požadavků (URL + HTTP method) na konkrétní handler funkce nebo controller akce

**Komponenty routing:**

* **Route definition** - definice URL patterns
* **Route parameters** - dynamické části URL (/user/:id)
* **HTTP methods** - GET, POST, PUT, DELETE
* **Middleware** - funkce vykonávané před/po handler funkci
* **Route groups** - seskupování související routes

**Typy parametrů:**

* **Path parameters** - /api/users/123
* **Query parameters** - /api/users?page=1&limit=10
* **Request body** - JSON payload v POST/PUT
* **Headers** - Authorization, Content-Type

**Výhody:**

* Čistá a organizovaná struktura URL
* Centralizované řízení požadavků
* Middleware support
* RESTful API design

**Nevýhody:**

* Možnost konfliktu routes
* Performance impact při velkém počtu routes
* Složitost při dynamických parametrech

**Příklady:** Express.js Router, Spring MVC RequestMapping, Laravel Routes

## endových systémů - Exception handling

**Exception Handling (Zpracování výjimek)**

**Definice:**

Mechanismus pro zachycování, zpracování a reakci na chyby a výjimečné stavy během běhu aplikace

**Typy výjimek:**

* **Checked exceptions** - musí být explicitně zpracovány
* **Unchecked exceptions** - runtime výjimky
* **Business exceptions** - chyby obchodní logiky
* **System exceptions** - chyby systému (DB connection, network)

**HTTP status codes:**

* **400 Bad Request** - neplatný požadavek
* **401 Unauthorized** - chybí autentifikace
* **403 Forbidden** - nedostatečná oprávnění
* **404 Not Found** - zdroj nenalezen
* **500 Internal Server Error** - serverová chyba

**Best practices:**

* **Global exception handler** - centralizované zpracování
* **Structured error responses** - konzistentní formát chyb
* **Logging** - zaznamenávání chyb pro debugging
* **User-friendly messages** - srozumitelné zprávy pro uživatele

**Výhody:**

* Robustnost aplikace
* Lepší user experience
* Snadnější debugging
* Bezpečnost (skrytí system details)

**Nevýhody:**

* Performance overhead
* Složitost kódu
* Možnost zakrytí root cause

## endových systémů - Dependency Injection

**Dependency Injection (DI)**

**Definice:**

Design pattern pro implementaci Inversion of Control (IoC), kde závislosti objektu jsou dodávány zvenčí místo jejich vytváření uvnitř objektu

**Typy DI:**

* **Constructor Injection** - předání závislostí přes konstruktor
* **Setter Injection** - předání přes setter metody
* **Interface Injection** - předání přes interface metody

**DI Container:**

* **Registration** - registrace služeb a jejich lifetime
* **Resolution** - automatické vytvoření objektů s závislostmi
* **Lifetime management** - Singleton, Transient, Scoped
* **Configuration** - XML, annotations, code-based

**Výhody:**

* Loose coupling
* Lepší testovatelnost (mock objects)
* Flexibility a maintainability
* Separation of concerns

**Nevýhody:**

* Learning curve
* Runtime overhead
* Složitější debugging
* Over-engineering risk

**Příklady:** Spring IoC Container, .NET Core DI, Guice (Java), Dagger (Android)

## endových systémů - Middleware a filtry

**Middleware a filtry**

**Middleware:**

Softwarová vrstva mezi aplikací a operačním systémem, nebo mezi různými částmi aplikace, která zprostředkovává komunikaci a služby

**Funkce middleware:**

* **Authentication** - ověření identity uživatele
* **Authorization** - kontrola oprávnění
* **Logging** - zaznamenávání požadavků
* **CORS handling** - Cross-Origin Resource Sharing
* **Rate limiting** - omezení počtu požadavků
* **Request/Response modification** - úprava dat

**Execution pipeline:**

Request → Middleware 1 → Middleware 2 → Handler → Middleware 2 → Middleware 1 → Response

**Filtry:**

* **Pre-filters** - vykonávány před handler metodou
* **Post-filters** - vykonávány po handler metodě
* **Exception filters** - zachycují výjimky

**Výhody:**

* Reusable components
* Separation of concerns
* Centralizované zpracování cross-cutting concerns
* Modularity

**Nevýhody:**

* Performance overhead
* Složitější debugging
* Order dependency

**Příklady:** Express.js middleware, ASP.NET Core middleware, Spring Security filters
