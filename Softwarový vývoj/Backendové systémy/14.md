# 14. DevOps/DevSecOps

## Development Pipeline

**Development Pipeline**

**Definice:**

Automatizovaný proces, který převádí zdrojový kód z vývojového prostředí do produkce prostřednictvím řady kroků

**Základní fáze:**

1. **Source** - správa zdrojového kódu (Git)
2. **Build** - kompilace a sestavení aplikace
3. **Test** - automatizované testování
4. **Deploy** - nasazení do prostředí

**Výhody:**

* Automatizace opakujících se úkolů
* Rychlejší a spolehlivější nasazení
* Snížení lidských chyb
* Konzistentní procesy

**Nevýhody:**

* Počáteční složitost nastavení
* Potřeba údržby pipeline skriptů
* Závislost na infrastruktuře

**Nástroje:** Jenkins, GitLab CI/CD, GitHub Actions, Azure DevOps, CircleCI

## Continuous Integration (CI)

**Continuous Integration (CI)**

**Definice:**

Praktika, kdy vývojáři pravidelně integrují svůj kód do sdíleného repozitáře, přičemž každá integrace je ověřena automatickým buildem a testy

**Klíčové praktiky:**

* **Častý commit** - minimálně jednou denně
* **Automatický build** - při každém commitu
* **Automatické testování** - unit, integration testy
* **Rychlá zpětná vazba** - notifikace o chybách

**Výhody:**

* Rychlé odhalení problémů
* Snížení integration hell
* Vyšší kvalita kódu
* Větší důvěra v změny

**Nevýhody:**

* Potřeba disciplíny vývojářů
* Náročnost na testovací infrastrukturu
* Možná zpomalení při poruchách

**Nástroje:** Jenkins, Travis CI, GitLab CI, GitHub Actions, TeamCity

## Continuous Delivery (CD)

**Continuous Delivery (CD)**

**Definice:**

Softwarová inženýrská praktika, kde kód změny jsou automaticky připraveny pro produkční nasazení po dokončení CI fáze

**Klíčové charakteristiky:**

* **Automatická příprava** - kód je vždy připraven k nasazení
* **Manuální approval** - lidské rozhodnutí o nasazení
* **Environmentální parita** - staging ≈ production
* **Rollback schopnost** - možnost rychlého vrácení

**Delivery vs Deployment:**

* **Delivery** - příprava k nasazení (manuální trigger)
* **Deployment** - automatické nasazení do produkce

**Výhody:**

* Snížení rizika nasazení
* Rychlejší time-to-market
* Lepší kvalita release
* Možnost častějších release

**Nevýhody:**

* Složitá počáteční konfigurace
* Potřeba robustní testovací strategie
* Vyšší nároky na monitoring

## Continuous Deployment

**Continuous Deployment**

**Definice:**

Praxe automatického nasazení každé změny kódu, která projde všemi testovacími fázemi, přímo do produkčního prostředí bez manuálního zásahu

**Předpoklady:**

* **Robustní testování** - comprehensive test suite
* **Monitoring** - detekce problémů v reálném čase
* **Feature flags** - kontrola nad funkcionalitou
* **Rychlý rollback** - okamžité vrácení změn

**Deployment strategie:**

* **Blue-Green** - dvě identická prostředí
* **Canary** - postupné nasazení
* **Rolling** - postupná výměna instancí

**Výhody:**

* Nejrychlejší dostupnost funkcí
* Minimální manuální práce
* Konstantní flow změn

**Nevýhody:**

* Vysoké riziko při selhání testů
* Potřeba extrémně spolehlivé automatizace
* Náročné na organizační kulturu

## Kontainerizace základy

**Kontainerizace - základy**

**Definice:**

Technologie virtualizace na úrovni operačního systému, která umožňuje balení aplikace a jejích závislostí do izolovaných, přenosných kontejnerů

**Klíčové koncepty:**

* **Image** - neměnný template pro kontejner
* **Container** - běžící instance image
* **Dockerfile** - instrukce pro sestavení image
* **Registry** - úložiště pro images (Docker Hub)

**Výhody:**

* Konzistence prostředí
* Rychlé spouštění
* Efektivní využití zdrojů
* Snadné škálování
* Izolace aplikací

**Nevýhody:**

* Bezpečnostní rizika při nesprávné konfiguraci
* Složitější debugging
* Potřeba orchestrace pro produkci
* Persistent data management

**Hlavní nástroje:** Docker, Podman, containerd, CRI-O

## Container Orchestration

**Container Orchestration**

**Definice:**

Automatizované řízení, koordinace a správa kontejnerů ve velkém měřítku včetně jejich nasazení, škálování a síťování

**Klíčové funkce:**

* **Deployment management** - nasazení kontejnerů
* **Service discovery** - nalezení služeb
* **Load balancing** - distribuce zátěže
* **Auto-scaling** - automatické škálování
* **Health monitoring** - sledování stavu
* **Rolling updates** - postupné aktualizace

**Kubernetes koncepty:**

* **Pod** - základní jednotka nasazení
* **Service** - síťový přístup k podům
* **Deployment** - řízení replik podů
* **ConfigMap/Secret** - konfigurace

**Výhody:**

* Automatizovaná správa
* Vysoká dostupnost
* Efektivní využití zdrojů
* Deklarativní konfigurace

**Nevýhody:**

* Vysoká komplexita
* Steep learning curve
* Resource overhead

**Nástroje:** Kubernetes, Docker Swarm, Apache Mesos, OpenShift

## DevSecOps Security

**DevSecOps - Security Integration**

**Definice:**

Filosofie a praxe integrace bezpečnostních praktik do celého DevOps procesu od počáteční fáze vývoje

**Shift-left Security:**

* **Security by Design** - bezpečnost od začátku
* **SAST** - Static Application Security Testing
* **DAST** - Dynamic Application Security Testing
* **SCA** - Software Composition Analysis
* **Infrastructure as Code security**

**Pipeline Security:**

* Vulnerability scanning v CI/CD
* Container image security scanning
* Secrets management
* Compliance checking
* Security testing automation

**Výhody:**

* Časné odhalení bezpečnostních problémů
* Snížení nákladů na opravu
* Kontinuální compliance
* Rychlejší response na hrozby

**Nevýhody:**

* Složitější počáteční nastavení
* Potřeba bezpečnostní expertízy
* Možné zpomalení pipeline

**Nástroje:** SonarQube, Snyk, OWASP ZAP, Checkmarx, Veracode, HashiCorp Vault

## Monitoring a Observability

**Monitoring a Observability**

**Definice:**

Monitoring sleduje známé problémy, Observability umožňuje pochopit neznámé problémy analýzou systémových výstupů

**Tři pilíře Observability:**

1. **Logs** - textové záznamy událostí
2. **Metrics** - číselné hodnoty v čase
3. **Traces** - cesta požadavku systémem

**Klíčové metriky:**

* **SLI** (Service Level Indicators) - měřené hodnoty
* **SLO** (Service Level Objectives) - cílové hodnoty
* **SLA** (Service Level Agreements) - smlouva s uživateli
* **Error Budget** - tolerované množství chyb

**Výhody:**

* Proaktivní řešení problémů
* Rychlejší root cause analysis
* Data-driven rozhodování
* Lepší uživatelská zkušenost

**Nevýhody:**

* Vysoký objem dat
* Komplexní nastavení
* Náklady na storage a zpracování

**Nástroje:** Prometheus + Grafana, ELK Stack, Datadog, New Relic, Jaeger, Zipkin
